## 课程查询与管理

课程查询与管理模块提供课程信息查询、成绩查询、教学计划查询等服务。访问所有接口均需要登录，一些接口需要`密码` 方式实名。

操作的资源主要有：

- /edu/timetable 查看课程表
- /edu/score 查询成绩
- /edu/classroom/available 查询空闲教室



### [GET] /edu/classroom/available

查询空闲教室情况

#### 权限

已登录用户。

#### 参数

| 参数     | 类型   | 必填 | 释义               | 合法值                       |
| -------- | ------ | ---- | ------------------ | ---------------------------- |
| campus   | 整数   | 否   | 校区               | 1或2,1是奉贤校区,2是徐汇校区 |
| building | string | 否   | 楼号               | 须精确匹配 如：一教，二教    |
| region   | string | 否   | 教学楼编号         | 须精确匹配 须在A-I之间       |
| date     | string | 是   | 查询空教室的日期   | 正常日期 如：2021-9-6        |
| time     | string | 否   | 使用空闲教室的时间 | 数字须在1和11之间            |
| index    | 整数   | 否   | 页码               | 不小于 1                     |
| count    | 整数   | 否   | 每页最大条目数     | 默认5，不超过20              |

#### 响应示例

``` json5
{
    "code": 0,
    "data": [
        {
            "room": "A103",
            "busyTime": 126,
            "capacity": 187
        },
        {
            "room": "A105",
            "busyTime": 30,
            "capacity": 242
        },
        {
            "room": "A108",
            "busyTime": 30,
            "capacity": 88
        },
        {
            "room": "A110",
            "busyTime": 126,
            "capacity": 88
        },
        {
            "room": "A112",
            "busyTime": 30,
            "capacity": 88
        },
        /* ... */
    ]
}
```
#### 返回值

| 返回值     | 类型        | 释义                                              |
| ---------- | ----------- | ------------------------------------------------|
| room       | string      | 房间号                                           |
| busyTime  | i32         | 使用时应将数字转为二进制,位上为1代表繁忙,0表示空闲      |
| capacity   | i32 or null | 教室内座位的数量                                   |


### [GET] /edu/timetable

查询课表。

#### 权限

已登录用户, 实名用户。

#### 参数

| 参数      | 类型 | 必填 | 释义   | 合法值                                            |
| -------- | ----| ---- | ----- | ------------------------------------------------ |
| year     | i32 | 否   | 学年   | 正常学年                                          |
| semester | i32 | 是   | 学期   | 数字, 1代表第一学期, 2代表第二学期, 其他数字代表整个学年 |

#### 响应示例

```json5
{
  "code": 0,
  "data": {
    "timeTable": [
      {
        "courseName": "Web应用系统开发",
        "day": 1,
        "timeIndex": 6,
        "week": 8190,
        "place": "二教G302",
        "teacher": [
          "朱栩"
        ],
        "campus": "奉贤校区",
        "credit": 2.5,
        "hours": 32.0,
        "dynClassId": "0737",
        "courseId": "B3042288",
        "preferedClass": []
      },
      /* ... */
    ]
  }
}
```

####  返回值

| 返回值          | 类型         | 释义                              |
| ----------     | ----------- | --------------------------------- |
| courseName    | String      | 课程名称                           |
| day            | i32         | 星期                              |
| timeIndex     | i32         | 节次, 以整数形式返回, 解析应转成二进制 |
| week           | i32         | 周次, 以整数形式返回, 解析应转成二进制 |
| place          | String      | 教室                              |
| teacher        | Vec<String> | 教师                              |
| campus         | String      | 校区                              |
| credit         | f32         | 学分                              |
| hours          | f32         | 学时                              |
| dynClassId   | String      | 教学班                            |
| courseId      | String      | 课程代码                          |
| preferedClass | Vec<String> | 陪课班, 如果无则返回[]              |


### [GET] /edu/score

查询成绩。

#### 权限

已登录用户, 实名用户。

#### 参数

| 参数      | 类型         | 必填 | 释义   | 合法值                                            |
| -------- | ----------- | ---- | ----- | ------------------------------------------------ |
| year     | i32         | 否   | 学年   | 正常学年                                          |
| semester | i32         | 是   | 学期   | 数字, 1代表第一学期, 2代表第二学期, 其他数字代表整个学年 |

#### 响应示例

```json5
{
  "code": 0,
  "data": {
    "Score": [
      {
        "score": 79.0,
        "course": "形势与政策（2）",
        "courseId": "B1280002",
        "classId": "2018-12-B1280002",
        "schoolYear": "2018-2019",
        "semester": 2,
        "credit": 0.5
      },
      {
        "score": 73.0,
        "course": "数据结构",
        "courseId": "B2042305",
        "classId": "2018-12-B2042305",
        "schoolYear": "2018-2019",
        "semester": 2,
        "credit": 3.5
      },
      /* ... */
    ]
  }
}
```

####  返回值

| 返回值         | 类型         | 释义      |
| ------------- | ----------- | --------- |
| score         | f32         | 成绩      |
| course        | String      | 课程      |
| courseId     | String      | 课程代码   |
| classId      | String      | 班级      |
| schoolYear   | String      | 学年      |
| semester      | u8         | 学期      |
| credit        | credit      | 学分      |

