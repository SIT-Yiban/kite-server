## 说明

该接口主要用于用户附件上传。在提交用户文章前，请先参考本文档，利用附件上传接口上传，然后在提交文章、活动等信息时通过相关参数附上附件 ID。



## 接口

### [POST] /attachment

上传附件。该接口的 `Content-Type` 应为 `multipart/form-data`。接口将来可能会对上传的图片进行检测（吐槽一下，好贵），但管理员上传的附件不一定会检测（省钱）。

#### 权限

需要实名认证的普通用户及以上权限。

#### 参数

| 参数     | 类型   | 必填 | 释义                         | 合法值 |
| -------- | ------ | ---- | ---------------------------- | ------ |
| fileName | string | 是   | 与 wx.uploadFile相同         |        |
| fileType | string | 是   | 文件分类，会检查文件扩展名。 | img    |

#### 错误代码

| 代码 | 说明                     |
| ---- | ------------------------ |
| 0    | 成功创建                 |
| 1    | 内部服务器错误           |
| 2    | 参数错误，可能是缺少字段 |
| 3    | 给定的 token 无效        |
| 4    | 权限不足，可能是未登录   |
| 10   | 需要实名认证             |
| 11   | 图片存在敏感内容         |

#### 响应示例

```json
{
    "code": 0,
    "msg": "OK",
    "data": {
        fileName: "a.jpg",  // 上传时提供的文件名
        attachmentUuid: "xxx-xxx....", // 用于在提交活动、帖子时附上
        attachmentUrl: "https://",  // ECS 的地址
    }
}
```

