###发布商品

- 接口地址：/api/v1/mall/goods
- 请求方式：POST
- 权限： 已登录用户
- 参数：

  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | item_name   | String | 是     | 商品标题名称 |
  | description | String | 是     | 商品描述信息 |
  | price       | double | 是     | 商品价格 |
  | images      | String | 是     | 商品图片介绍 |
  | cover_image | String | 是     | 商品首页展示图片 |
  | campus      | String | 是     | 所在地区（徐汇、奉贤）| 
  | sort        | int    | 是     | 商品分类（参考sorts表）|
  
- JSON返回示例：
```json
// 成功示例
{
    "code": 0,
    "data": "G2021082933537" // 返回商品code
}
```
***
###修改商品信息

- 接口地址：/api/v1/mall/update_goods
- 请求方式：PUT
- 权限： 已登录用户
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | item_code   | String | 是     | 商品Code(以G开头的自定义编号) |
  | item_name   | String | 是     | 商品标题名称 |
  | description | String | 是     | 商品描述信息 |
  | price       | double | 是     | 商品价格 |
  | images      | String | 是     | 商品图片介绍 |
  | cover_image | String | 是     | 商品首页展示图片 |
  | campus      | String | 是     | 所在地区（徐汇、奉贤） |
  | sort        | int    | 是     | 商品分类（参考sorts表） |

- JSON返回示例：
```json
//成功示例
{
    "code": 0,
    "data": "G2021081837813"    //返回商品code
}
```
***
###删除商品信息（软删除）

- 接口地址：/api/v1/mall/goods/{pub_code}
- 请求方式：DELETE
- 权限： 已登录用户
- 参数：

  | 参数         | 类型    |  必须  | 说明 |
  | :---:       | :---:  | :---:  | :---: |
  | pub_code    | String | 是     | 发布信息Code(以P开头的自定义编号) |

- 请求示例： /api/v1/mall/goods/P2021092212318
- JSON返回示例：
```json
//成功示例
{
    "code": 0
}
```
***
###查找首页商品列表

- 接口地址：/api/v1/mall/goods
- 请求方式：GET
- 权限： 已登录用户
- 参数：无
- JSON返回示例：
```json
//成功示例
{
    "code": 0,
    "data": [
        {
            "pub_code": "P2021081837639",
            "item_code": "G2021081837813",
            "views": 2,
            "item_name": "电脑显示屏",
            "price": 299.0,
            "cover_image": "www.baidu.com"
        },
        {
            "pub_code": "P2021081939971",
            "item_code": "G2021081939926",
            "views": 3,
            "item_name": "显卡",
            "price": 388.0,
            "cover_image": "www.baidu.com"
        },
        {
            "pub_code": "P2021081906943",
            "item_code": "G2021081906944",
            "views": 0,
            "item_name": "杯子",
            "price": 65.0,
            "cover_image": "www.baidu.com"
        },
        {
            "pub_code": "P2021082110218",
            "item_code": "G2021082110280",
            "views": 0,
            "item_name": "酒精喷雾",
            "price": 20.0,
            "cover_image": "www.baidu.com"
        }
    ]
}
```
***
###查找某商品详情

- 接口地址：/api/v1/mall/goods/{item_code}
- 请求方式： GET
- 权限： 已登录用户
- 参数：

  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | item_code   | String | 是     | 商品Code(以G开头的自定义编号) |
  
- 请求示例： /api/v1/mall/goods/P2021082146991
- JSON返回示例：
```json
//成功示例
[
    {
        "item_name": "杯子",
        "description": "500ml马克杯",
        "price": 65.0,
        "images": "www.baidu.com"
    }
]
//错误示例
{
    "code": 222,
    "msg": "找不到该商品"
}
```
***
###依据分类进行查找商品

- 接口地址：/api/v1/mall/goods/sort/{sort}
- 请求方式： GET
- 权限： 已登录用户
- 参数：

  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | sort   | int | 是     | 商品分类编号 |

- 请求示例：/api/v1/mall/goods/sort/1
```json
//成功示例
{
    "code": 0,
    "data": {
        "goods": [
            {
                "pub_code": "P2021081939971",
                "item_code": "G2021081939926",
                "views": 0,
                "item_name": "\"显卡\"",
                "price": 388.0,
                "cover_image": "\"www.baidu.com\""
            }
        ]
    }
}
```
***
###依据关键字进行查找商品

- 接口地址：/api/v1/mall/goods/like/{keyword}
- 请求方式： GET
- 权限： 已登录用户
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | keyword   | String | 是     | 查找关键字 |
- 请求示例：/api/v1/mall/goods/like/酒精
```json
//成功示例
{
    "code": 0,
    "data": {
        "goods": [
            {
                "pub_code": "P2021082128142",
                "item_code": "G2021082128874",
                "views": 0,
                "item_name": "酒精喷雾",
                "price": 20.0,
                "cover_image": "www.baidu.com"
            },
            {
                "pub_code": "P2021082142635",
                "item_code": "G2021082142651",
                "views": 0,
                "item_name": "酒精喷雾",
                "price": 20.0,
                "cover_image": "www.baidu.com"
            },
            {
                "pub_code": "P2021082143571",
                "item_code": "G2021082143593",
                "views": 6,
                "item_name": "酒精喷雾",
                "price": 20.0,
                "cover_image": "www.baidu.com"
            }
        ]
    }
}
```
***
###发表评论

- 接口地址：/api/v1/mall/comment
- 请求方式： POST
- 权限： 已登录用户
- 说明： 评论仅设计为两层结构，即一条评论下的所有评论均属于该条评论的子评论
- 参数：

  | 参数         | 类型    |  必须  | 说明 |
  | :---:       | :---:  | :---:  | :---: |
  | item_code   | String | 是     | 评论归属商品 |
  | content     | String | 是     | 评论内容 |
  | parent_code | int    | 否     | 父评论（若未带此参数则为父级评论）|
  
- JSON返回示例：
```json
//成功示例
{
    "code": 0,
    "data": "C2021082956273"
}
```
***
###删除评论

- 接口地址：/api/v1/mall/comment/{com_code}
- 请求方式： DELETE
- 权限： 已登录用户
- 说明： 若删除的为父级评论则子级评论一起删除
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | com_code    | String | 是     | 发布评论Code(以C开头的自定义编号) |

- 请求示例： /api/v1/mall/comment/C2021082213173
- JSON返回示例：
```json
//成功示例
{
    "code": 0
}
```
***
###查找商品评论

- 接口地址：/api/v1/mall/comments/{item_code}
- 请求方式： GET
- 权限： 已登录用户
- 说明： 父级评论中children属性中存放子级评论
- 参数：

  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | item_code   | String | 是     | 商品Code(以G开头的自定义编号) |

- 请求示例：/api/v1/mall/comments/G2021081837813
- JSON返回示例：
```json
//成功示例
[
    {
        "com_code": "C2021082213173",
        "user_code": 1,
        "content": "还有么？",
        "parent_code": "NULL",
        "num_like": 0,
        "children": [
            {
                "com_code": "C2021082228605",
                "user_code": 1,
                "content": "what?",
                "parent_code": "C2021082213173",
                "num_like": 0
            },
            {
                "com_code": "C2021082239630",
                "user_code": 1,
                "content": "怎么办",
                "parent_code": "C2021082213173",
                "num_like": 0
            }
        ]
    }
]
```
***
###更新评论喜欢数

- 接口地址：/api/v1/mall/comment/like/{com_code}
- 请求方式： PUT
- 权限： 已登录用户
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | com_code    | String | 是     | 发布评论Code(以C开头的自定义编号) |
  
- 请求示例： /api/v1/mall/comment/like/C2021082213173
- JSON返回示例：
```json
//成功示例
{
    "code": 0,
}
```
***
###添加用户收藏

- 接口地址：/api/v1/mall/wish/{pub_code}
- 请求方式： POST
- 权限： 已登录用户
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | pub_code    | String | 是     | 发布信息Code(以P开头的自定义编号) |

- JSON返回示例：
```json
//成功示例
{
    "code": 0,
}
```
***
###删除用户收藏

- 接口地址：/api/v1/mall/wish/{pub_code}
- 请求方式：DELETE
- 权限： 已登录用户
- 说明： 此删除为真正删除不保留数据
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | pub_code    | String | 是     | 发布信息Code(以P开头的自定义编号) |

- 请求示例：/api/v1/mall/wish/P2021082147569
- JSON返回示例：
```json
//成功示例
{
    "code": 0,
}
```
***
###查看用户收藏

- 接口地址：/api/v1/mall/wish/{user_code}
- 请求方式：GET
- 权限： 已登录用户
- 参数：
  
  | 参数        | 类型   | 必须   | 说明 |
  | ----------- | ------ | ------ | ---- |
  | user_code   | int    | 是     | 用户唯一标识ID |

- 请求示例：/api/v1/mall/wish/1
- JSON返回示例：
```json
//成功示例
[
    {
        "pub_code": "P2021082142635",
        "item_code": "G2021082142651",
        "views": 0,
        "status": "Y",
        "item_name": "酒精喷雾",
        "price": 20.0,
        "cover_image": "www.baidu.com"
    },
    {
        "pub_code": "P2021082110218",
        "item_code": "G2021082110280",
        "views": 0,
        "status": "Y",
        "item_name": "酒精喷雾",
        "price": 20.0,
        "cover_image": "www.baidu.com"
    }
]
//失败示例
{
    "code": 225,
    "msg": "用户输入错误或该用户无收藏"
}
```
***